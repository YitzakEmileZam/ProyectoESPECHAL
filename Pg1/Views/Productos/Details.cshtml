@model Pg1.Models.Producto

@{
    ViewData["Title"] = "Detalle del Producto";
}

<h2>@Model.Nombre</h2>

<div class="row">
    <div class="col-md-6">
        <img src="@Url.Content($"~/img/{Model.ImagenUrl}")" alt="@Model.Nombre" class="img-fluid" />
    </div>
    <div class="col-md-6">
        <dl class="row">
            <dt class="col-sm-4">Descripción</dt>
            <dd class="col-sm-8">@Model.Descripcion</dd>

            <dt class="col-sm-4">Categoría</dt>
            <dd class="col-sm-8">@Model.Categoria.Nombre</dd>

            <dt class="col-sm-4">Precio</dt>
            <dd class="col-sm-8">@Model.Precio.ToString("C")</dd>

            <dt class="col-sm-4">Stock</dt>
            <dd class="col-sm-8">@Model.Stock</dd>
        </dl>

        <div>
            @if (Model.Stock > 0)
            {
                <form asp-controller="Carrito" asp-action="AgregarAlCarrito" method="post">
                    <input type="hidden" name="idProducto" value="@Model.IdProducto" />
                    <button type="submit" class="btn btn-success">Añadir al carrito</button>
                </form>
            }
            else
            {
                <span class="badge bg-danger">Sin stock disponible</span>
            }
        </div>

        <a asp-action="Index" class="btn btn-secondary mt-3">Volver al catálogo</a>
    </div>
</div>